/**
 * emv.js v2.0.0
 *
 * @author Elvyrra S.A.S
 * @license http://rem.mit-license.org/ MIT
 */
"use strict";function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.EMV=t()}(void 0,function(){function e(){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function t(e){var t=["string","number","boolean","undefined","symbol"];return-1!==t.indexOf("undefined"==typeof e?"undefined":_typeof(e))||null===e}function i(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var r=function(e){function t(e){_classCallCheck(this,t);var i="EMV Error : "+e;return _possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i))}return _inherits(t,e),t}(Error),n=function(){function i(e,t,r,n){var o=this;_classCallCheck(this,i),this.$computed={},this.$observed=new Set([]),this.$callers={},this.$watchers={},this.$root=t||this,this.$parent=r,this.$this=this,this.$directives={},this.$object=e,this.$additionalProperties=new Set([]),Object.keys(e).forEach(function(t){o.$observe(t,e[t],n)}),"Object"!==e.constructor.name&&Object.getOwnPropertyNames(e.constructor.prototype).forEach(function(t){o.constructor.prototype[t]||(o.constructor.prototype[t]=e.constructor.prototype[t])})}return _createClass(i,[{key:"$observe",value:function(e,r,n){if(!this.$observed.has(e)){var a={get:function(){var t=this,i=this.$object[e];return this.$root&&"function"!=typeof i&&(this.$root.$executingComputed&&(this.$callers[e]||(this.$callers[e]={}),this.$callers[e][this.$root.$executingComputed.uid]||!function(){var i=t.$root.$executingComputed,r=i.object;Object.keys(r.$computed).every(function(t){return r.$computed[t]===i?(this.$callers[e][i.uid]={property:t,reader:i.reader,writer:i.writer,object:i.object},!1):!0}.bind(t))}()),this.$root.$executingDirective&&(this.$directives[e]||(this.$directives[e]=new Set([])),this.$directives[e].add(this.$root.$executingDirective.uid))),i}.bind(this),set:function(r){var a=!1;if(e in this.$object||this.$root.$creatingContext||(a=!0),"function"==typeof r||r instanceof HTMLElement)return this.$object[e]=r,!0;var c=this.$object[e];if(t(r)||r instanceof i?(this.$object[e]=r,r instanceof s&&(r.$setRoot(this.$root||this),r.$parent=this)):Array.isArray(r)?this.$object[e]=new o(r,this.$root||this,this,e):this.$object[e]=new i(r,this.$root||this,this,e),this.$computed[e]&&this.$computed[e].writer)try{this.$computed[e].writer(this,r,c)}catch(u){}return c!==r&&(this.$notifySubscribers(e,r,c),a&&this.$parent&&this.$parent.$notifySubscribers(n,this.$parent)),!0}.bind(this),enumerable:!0,configurable:!0};Object.defineProperty(this,e,a),this.$observed.add(e),this[e]=r}}},{key:"$setRoot",value:function(e){var t=this;this.$root=e,Object.keys(this.$object).forEach(function(r){t.$object[r]instanceof i&&t.$object[r].$setRoot(e)})}},{key:"$notifySubscribers",value:function(e,t,i){e&&(void 0===t&&(t=this[e]),this.$callers[e]&&Object.keys(this.$callers[e]).forEach(function(t){var i=this.$callers[e][t];i.object[i.property]=i.reader(i.object)}.bind(this)),this.$watchers[e]&&Object.keys(this.$watchers[e]).forEach(function(r){this.$watchers[e][r].call(this,t,i)}.bind(this)),this.$directives[e]&&this.$directives[e].forEach(function(t){var i=this.$root.$directives[t];return i?void(i&&i.handler.update&&i.handler.update(i.element,i.parameters,i.model)):void this.$directives[e]["delete"](t)}.bind(this)))}},{key:"valueOf",value:function(){var e=this,t={};return Object.keys(this).forEach(function(i){t[i]=e[i]?e[i].valueOf():e[i]}),t}},{key:"toString",value:function(){return JSON.stringify(this.valueOf())}},{key:"$watch",value:function(t,i){var r=this;if(Array.isArray(t))return void t.forEach(function(e){r.$watch(e,i)});var n=t.split("."),o=void 0,a=n.pop();o=this.$this,n.forEach(function(e){o=o[e]}),o&&(o.$watchers[a]||(o.$watchers[a]={}),i.uid=e(),o.$watchers[a][i.uid]=i)}},{key:"$unwatch",value:function(e,t){var i=e.split("."),r=void 0,n=i.pop();r=this.$this,i.forEach(function(e){r=r[e]}),r.$watchers[n]&&(t?delete r.$watchers[n][t.uid]:r.$watchers[n]={})}}]),i}(),o=function(e){function t(e,i,r,n){_classCallCheck(this,t);var o=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i,r,n));return o.$observe("length",e.length,n),o.$watch("length",function(){Object.keys(o).forEach(function(e){o.$observe(e,o[e],n)})}),o}return _inherits(t,e),_createClass(t,[{key:"valueOf",value:function(){return Array.from(this).map(function(e){return e?e.valueOf():e})}}]),t}(n);Object.getOwnPropertyNames(Array.prototype).forEach(function(e){o.prototype[e]||(o.prototype[e]=Array.prototype[e])});var a=function f(t,i){_classCallCheck(this,f);var r=this;this.uid=e(),this.object=i,"function"==typeof t&&(t={read:t}),t.write&&(this.writer=function(e,i,r){t.write.call(e,i,r)}),t.read&&(this.reader=function(e){var n=i.$root.$executingComputed;i.$root.$executingComputed=r;var o=void 0;try{o=t.read.call(e)}catch(a){o=void 0}return i.$root.$executingComputed=n,o})},c=function(){function t(e,i){_classCallCheck(this,t),this.name=e;var r=this,n=function(t){i[t]&&(this[t]=function(n,o,a){var c=a.$root.$executingDirective;a.$root.$executingDirective={element:n,parameters:o,model:a,handler:r,uid:this.getUid(n),name:e};var s=i[t](n,o,a);return a.$executingDirective=c,s}.bind(this))}.bind(this);n("init"),n("bind"),n("update")}return _createClass(t,[{key:"getUid",value:function(t){return t.$uid||(t.$uid=e()),t.$uid+"-"+this.name}}]),t}(),s=function(t){function o(e,t){_classCallCheck(this,o);var i=e||{},r=_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i.data||i,t));return r.$templates={},r.$executingComputed=null,r.$executingDirective=null,r.$creatingContext=!1,r.$directives={},i.computed&&Object.keys(i.computed).forEach(function(e){this.$computed[e]=new a(i.computed[e],this),this.$observe(e)}.bind(r)),Object.keys(r.$computed).forEach(function(e){r.$computed[e].reader?r[e]=r.$computed[e].reader(r):r[e]=void 0}),r}return _inherits(o,t),_createClass(o,[{key:"$apply",value:function(e){if(this.$rootElement)throw new r("an emv instance cannot be instanciated on multiple DOM elements.");this.$rootElement=e||document.body,this.$createContext(this.$rootElement,this),this.$parse(this.$rootElement),this.$render(this.$rootElement)}},{key:"$clean",value:function(e,t){var i=this,r=e||this.$rootElement;r&&(r.$directives&&Object.keys(r.$directives).forEach(function(e){if(!t||-1===t.indexOf(e)){var n=r.$directives[e];delete i.$directives[n],delete r.$directives[e]}}),r.children&&Array.from(r.children).forEach(function(e){i.$clean(e)}),r===this.$rootElement&&delete this.$rootElement)}},{key:"$registerTemplate",value:function(e,t){var i=t.replace(/<!\-\-(.*?)\-\->/g,"");this.$templates[e]=i}},{key:"$parse",value:function(e,t){var r=this,n=new RegExp(i(o.config.delimiters[0])+"(.+?)"+i(o.config.delimiters[1]),"g");if(!e.$directives){if("template"===e.nodeName.toLowerCase())this.$registerTemplate(e.id,e.innerHTML),e.parentNode.removeChild(e);else if("#text"===e.nodeName.toLowerCase()){var a=e.textContent,c=a.match(n);if(c){this.$getContext(e.parentNode);var s=a.replace(n,"' + $1 + '");this.$setElementDirective(e,"text","'"+s+"'")}}else e.attributes&&(Object.keys(o.directives).forEach(function(i){if((!t||-1===t.indexOf(i))&&e.getAttribute){var n=o.config.attributePrefix+"-"+i;if(e.hasAttribute(n)){var a=e.getAttribute(n),c=o.directives[i];r.$getContext(e),r.$setElementDirective(e,i,a),c.init&&c.init.call(r,e,a,r)}}}),Array.from(e.attributes).forEach(function(t){var i=t.name,o=t.textContent,a=o.match(n);if(null!==a){var c=r.$directives[e.$directives&&e.$directives.attr],s=c&&c.parameters||"";s&&(s=s.substring(1,s.length-1)+","),s+="'"+i+"' : '"+o.replace(n,"' + $1 + '")+"'",s="{"+s+"}",r.$setElementDirective(e,"attr",s)}}));e.childNodes&&Array.from(e.childNodes).forEach(function(e){r.$parse(e)})}}},{key:"$setElementDirective",value:function(t,i,r){t.$directives||(t.$directives={}),t.$uid||(t.$uid=e());var n=o.directives[i],a=n.getUid(t);this.$directives[a]={name:i,handler:n,parameters:r,model:this,element:t},t.$directives[i]=a}},{key:"$render",value:function(e,t){var i=this;e.$stopRenderingPropagation=!1,e.$directives&&Object.keys(e.$directives).forEach(function(i){if(!(t&&-1!==t.indexOf(i)||e.$stopRenderingPropagation)){var r=e.$directives[i],n=this.$directives[r];if(!n)return;var o=n.handler,a=n.parameters;o.bind&&o.bind.call(this,e,a,this),o.update&&o.update.call(this,e,a,this)}}.bind(this)),document.documentElement.contains(e)&&!e.$stopRenderingPropagation&&e.childNodes&&Array.from(e.childNodes).forEach(function(e){i.$render(e)})}},{key:"$stopRenderingPropagation",value:function(e){e.$stopRenderingPropagation=!0}},{key:"$createContext",value:function(e,t,i){this.$creatingContext=!0;var o=t;t instanceof n?(o.$this=t,o.$parent=t.$parent,o.$root=this):o={$this:t,$parent:t.$parent,$root:this,$additionalProperties:new Set([])};var a=this.$getAdditionalContextProperties(e);a.forEach(function(t){if(-1!==["$this","$parent","$root"].indexOf(t))throw new r("You cannot apply the key '"+t+"' as additionnal context property");o.$additionalProperties.add(t),o[t]=(e.parentNode||e.$parent).$context[t]}),e.$additionalContextProperties=new Set(a),i&&Object.keys(i).forEach(function(t){o.$additionalProperties.add(t),o[t]=i[t],e.$additionalContextProperties.add(t)}),e.$context=o,this.$creatingContext=!1}},{key:"$removeContext",value:function(e){var t=this;delete e.$context,e.children&&Array.from(e.children).forEach(function(e){t.$removeContext(e)})}},{key:"$getContext",value:function(e){if(!e)return{};if(e.$context)return e.$context;var t=this.$getContext(e.parentNode);return e.$context=t,t}},{key:"$getAdditionalContextProperties",value:function(e){if(e.$additionalContextProperties)return e.$additionalContextProperties;if(e===this.$rootElement)return new Set([]);var t=e.parentNode||e.$parent;if(t){var i=this.$getAdditionalContextProperties(t);return e.$additionalContextProperties=i,i}return new Set([])}},{key:"$parseDirectiveGetterParameters",value:function(e){return new Function("$context","var $$result;with($context) {$$result=("+e+");};return $$result;")}},{key:"$getDirectiveValue",value:function(e,t,i){var r=e.replace(/\n\s*/g,""),n=this.$parseDirectiveGetterParameters(r),o=i||this.$getContext(t);try{return n(o)}catch(a){return}}},{key:"$parseDirectiveSetterParameters",value:function(e){return new Function("$context","$value","\n                with($context) {\n                    "+e+" = $value;\n                }\n            ")}},{key:"$setDirectiveValue",value:function(e,t,i){var r=this.$parseDirectiveSetterParameters(e);try{r(this.$getContext(t),i)}catch(n){if("ReferenceError"===n.name){var o="$this."+e;r(o)}}}},{key:"$insertRemoveElement",value:function(e,t,i,r){var n=i||e;if(t){var o=!n.$parent.contains(e)||r;if(o){var a=null;e.$before&&e.$before.every(function(e){return n.$parent.contains(e)?(a=e,!1):!0}),a?a.nextElementSibling?n.$parent.insertBefore(e,a.nextElementSibling):n.$parent.appendChild(e):n.$parent.insertBefore(e,n.$parent.firstChild)}}else this.$stopRenderingPropagation(e),n.$parent.contains(e)&&n.$parent.removeChild(e)}}],[{key:"directive",value:function(e,t){this.directives[e]=new c(e,t)}}]),o}(n);s.directives={},s.directive("show",{update:function(e,t,i){var r=i.$getDirectiveValue(t,e);r?e.style.display="":e.style.display="none"}}),s.directive("class",{update:function(e,t,i){var r=i.$getDirectiveValue(t,e);e.originalClassList||(e.originalClassList=[],Array.from(e.classList).forEach(function(t){e.originalClassList.push(t)})),Array.from(e.classList).forEach(function(t){-1===e.originalClassList.indexOf(t)&&e.classList.remove(t)}),r&&("string"==typeof r&&(r=_defineProperty({},r,!0)),"object"===("undefined"==typeof r?"undefined":_typeof(r))&&Object.keys(r).forEach(function(t){var i=t.split(" "),n=e.classList;i.forEach(function(e){r[t]?n.add(e):n.remove(e)})}))}}),s.directive("style",{update:function(e,t,i){var r=i.$getDirectiveValue(t,e);r&&"object"===("undefined"==typeof r?"undefined":_typeof(r))&&Object.keys(r).forEach(function(t){var i=r[t];i?e.style[t]=i:e.style[t]=""})}}),s.directive("attr",{update:function(e,t,i){var r=i.$getDirectiveValue(t,e);r&&"object"===("undefined"==typeof r?"undefined":_typeof(r))&&Object.keys(r).forEach(function(t){var i=r[t];i?e.setAttribute(t,i):e.removeAttribute(t)})}}),s.directive("disabled",{update:function(e,t,i){var r=i.$getDirectiveValue(t,e);r?e.setAttribute("disabled",!0):e.removeAttribute("disabled")}}),s.directive("value",{bind:function(e,t,i){e["true"===e.contentEditable?"onblur":"onchange"]=function(){var r=void 0,n=e.nodeName.toLowerCase(),o=e.type;switch(n){case"input":case"select":switch(o){case"checkbox":r=Boolean(e.checked);break;case"radio":r=document.querySelector('input[name="'+e.name+'"]:checked').value;break;default:r=e.value}break;case"textarea":r=e.value;break;default:if(e.contentEditable){r=e.innerHTML;break}return}i.$setDirectiveValue(t,e,r)}},update:function(e,t,i){var r=i.$getDirectiveValue(t,e);void 0===r&&(r="");var n=e.nodeName.toLowerCase(),o=e.type;switch(n){case"input":case"select":switch(o){case"checkbox":e.checked=Boolean(r);break;case"radio":var a=document.querySelector('input[name="'+e.name+'"][value="'+r+'"]');a&&(a.checked=!0);break;case"file":return;default:e.value=r}break;case"textarea":e.value=r;break;default:e.contentEditable?e.innerHTML=r:e.value=r}}}),s.directive("input",{bind:function(e,t,i){e.addEventListener("input",function(){i.$setDirectiveValue(t,e,e.value)})},update:function(e,t,i){var r=i.$getDirectiveValue(t,e);e.value=r||""}}),s.directive("focus",{bind:function(e,t,i){e.addEventListener("focus",function(){i.$setDirectiveValue(t,e,!0)}),e.addEventListener("blur",function(){i.$setDirectiveValue(t,e,!1)})},update:function(e,t,i){var r=i.$getDirectiveValue(t,e);r&&e!==document.activeElement?e.focus():r||e!==document.activeElement||e.blur()}}),s.directive("options",{update:function(e,t,i){if("select"!==e.nodeName.toLowerCase())throw new r("options directive can be applied only on select tags");var n=i.$getDirectiveValue(t,e),o=n.valueOf();if(n&&(!("$data"in n)||n.$data)){if(n.$data){o={};var a=n.$data.valueOf();Object.keys(a).forEach(function(e){var t=n.$data[e],i=n.$value?t[n.$value]:e,r=n.$label?t[n.$label]:t;o[i]=r})}var c=e.value||n.$selected;e.innerHTML="";var s=function(t,i){var r=document.createElement("option");r.value=t,r.innerText=i,t.toString()===c&&(r.selected=!0),e.appendChild(r)};Object.keys(o).forEach(function(e){var t=o[e];s(e,t)})}}}),s.directive("text",{update:function(e,t,i){var r=i.$getDirectiveValue(t,e);"#text"===e.nodeName?e.nodeValue=r:e.innerText=r}}),s.directive("html",{update:function(e,t,i){var r=i.$getDirectiveValue(t,e);e.innerHTML=r;var n=e.querySelectorAll("script");Array.from(n).forEach(function(e){if(e.innerText){var t=new Function(e.innerText);t()}else{var i=document.createElement("script");i.src=e.src,e.parentNode.replaceChild(i,e)}})}}),s.directive("click",{bind:function(e,t,i){var r=i.$parseDirectiveGetterParameters(t);e.onclick=function(t){var n=i.$getContext(e),o=r(n,t);"function"==typeof o&&o.call(n.$this,n,t)}}}),s.directive("on",{bind:function(e,t,i){var r=i.$parseDirectiveGetterParameters(t),n=r(i.$getContext(e));"object"===("undefined"==typeof n?"undefined":_typeof(n))&&Object.keys(n).forEach(function(t){var r=n[t],o="on"+t;e[o]=function(t){r(i.$getContext(e),t)}})}}),s.directive("submit",{bind:function(e,t,i){if("form"!==e.nodeName.toLowerCase())throw new r("submit directive can be applied only on form tags");var n=i.$parseDirectiveGetterParameters(t);e.addEventListener("submit",function(t){var r=n(i.$getContext(e));"function"==typeof r&&r(i.$getContext(e),t)})}});var u=function(t,i){t.$before=[],t.previousElementSibling&&(t.$before=[t.previousElementSibling],t.previousElementSibling.$before&&(t.$before=t.$before.concat(t.previousElementSibling.$before))),t.$parent=t.parentNode;var r=t.innerHTML,n=e();t.$templateName=n,i.$registerTemplate(n,r)};s.directive("each",{init:function(e,t,i){u(e,i),e.$clones=[];var r=document.createElement("meta");r.$initialElement=e,r.$uid=e.$uid,r.$context=e.$context,r.setAttribute("name","e-each-"+e.$uid),i.$setElementDirective(r,"each",t),e.parentNode.replaceChild(r,e)},update:function(e,t,i){var r=e.$initialElement,n=i.$getDirectiveValue(t,r);if(n){var o=n&&Array.from("$data"in n?n.$data||[]:n)||[];o=o.filter(function(e){return void 0!==e&&null!==e}),n.$filter&&(o=o.filter(n.$filter)),n.$sort&&("function"==typeof n.$sort?o.sort(n.$sort):o.sort(function(e,t){return e[n.$sort]<t[n.$sort]?-1:1})),n.$order&&n.$order<0&&o.reverse();var a=n.$offset||0,c=a+(n.$limit||o.length);o=o.slice(a,c);var s=r.$clones.slice();s.forEach(function(e){-1!==o.indexOf(e.$$item)&&e.$context||(i.$clean(e),e.parentNode&&e.parentNode.contains(e)&&e.parentNode.removeChild(e))}),r.$clones=[],o.forEach(function(t,o){var a=s.findIndex(function(e){return e.$$item===t}),c=r.$clones.slice().reverse().concat(e).concat(r.$before);if(-1!==a){var u=s[a];if(r.$clones.push(u),a===o)return;return u.$before=c,u.$context.$index=o,void i.$insertRemoveElement(u,!0,r,!0)}var l={$index:o};n.$item&&(l[n.$item]=t);var d=r.cloneNode(!0);d.$$item=t,d.$parent=r.$parent,i.$createContext(d,t,l),d.$before=c,Object.keys(r.$directives).forEach(function(e){if("each"!==e){var t=r.$directives[e];i.$setElementDirective(d,e,i.$directives[t].parameters)}}),i.$insertRemoveElement(d,!0,r),d.innerHTML=i.$templates[r.$templateName],d.childNodes&&Array.from(d.childNodes).forEach(function(e){i.$parse(e)}),i.$render(d,["each"]),r.$clones.push(d)})}}}),s.directive("if",{init:function(e,t,i){u(e,i)},update:function(e,t,i){var r=Boolean(i.$getDirectiveValue(t,e));i.$insertRemoveElement(e,r),r&&i.$render(e,["if"])}}),s.directive("unless",{init:function(e,t,i){u(e,i)},update:function(e,t,i){var r=i.$getDirectiveValue(t,e);i.$insertRemoveElement(e,!r),r||i.$render(e,["unless"])}}),s.directive("with",{init:function(e,t,i){u(e,i)},update:function(e,t,i){var r=void 0,n={};if(e===i.$rootElement)r=i.$getDirectiveValue(t,e,i);else{if(!e.$parent)return void i.$stopRenderingPropagation(e);i.$removeContext(e),r=i.$getDirectiveValue(t,e.$parent)}r&&"$data"in r&&("$as"in r&&(n[r.$as]=r.$data),r=r.$data),r?(i.$removeContext(e),i.$createContext(e,r,n),i.$insertRemoveElement(e,!0),e.childNodes&&Array.from(e.childNodes).forEach(function(e){i.$clean(e)}),e.innerHTML=i.$templates[e.$templateName],e.childNodes&&Array.from(e.childNodes).forEach(function(e){i.$parse(e)}),i.$render(e,["with"])):i.$insertRemoveElement(e,!1)}}),s.directive("template",{update:function(e,t,i){if(document.documentElement.contains(e)){var r=i.$getDirectiveValue(t,e),n=i.$templates[r]||"";e.innerHTML=n;var o=e.querySelectorAll("script");Array.from(o).forEach(function(e){if(e.innerText){var t=new Function(e.innerText);t()}else{var i=document.createElement("script");i.src=e.src,e.parentNode.replaceChild(i,e)}}),e.childNodes&&(Array.from(e.childNodes).forEach(function(e){i.$parse(e)}),Array.from(e.childNodes).forEach(function(e){i.$render(e)}))}}}),s.config={attributePrefix:"e",delimiters:["${","}"]},Object.defineProperty(s,"version",{value:"2.0.0",writable:!1}),s.utils={uid:function(){return e()}};var l=Array.isArray;Array.isArray=function(e){return e instanceof o?!0:l(e)};var d=Object.keys;return Object.keys=function(e){if(e instanceof o){var t=function(){var t=[];return e.forEach(function(e,i){t.push(i.toString())}),{v:t}}();if("object"===("undefined"==typeof t?"undefined":_typeof(t)))return t.v}else if(e instanceof n){var i=d(e);return i.filter(function(t){return"$"!==t.substr(0,1)&&!e.$additionalProperties.has(t)})}return d(e)},s});